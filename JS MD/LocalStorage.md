# LocalStorage 



- 데이터를 사용자 로컬에 보존하는 방식
- 데이터를 저장, 덮어쓰기, 삭제 등 조작 가능
- JS 로 조작 
- 모바일 사용 가능



## 쿠키 

- 쿠키는 클라이언트의 로컬에 저장되는 키와 값이 들어있는 작은 데이터파일 입니다.

- 쿠키는 이름, 값, 만료 날짜(쿠키 저장 기간), 경로 정보가 들어있습니다.

- 쿠키는 일정 시간 동안 데이터를 저장할 수 있어서 로그인 상태를 유지합니다.

- 쿠키는 클라인언트의 상태 정보를 본인 하드디스크에 저장하였다가 필요할 때 참조 및 재사용합니다.



### 쿠키의 2가지 유형

1. **Seesion cookies**

- 만료일을 포함하지 않는다. 
- 브라우저나 탭이 열려있는 동안만 저장 됨
- 브라우저가 닫히면 영구적으로 삭제



2. **persistent cookies**

- 만료일을 가진다.
- 만료일까지 유저의 디스크에 저장되고 만료일이 지나면 삭제



## 쿠키 원리

브라우저에서 웹 페이지 접속 -> 

클라이언트가 요청한 웹 페이지를 받으면서 쿠키를 클라이언트 로컬(하드)에 저장 -> 

클라이언트가 재 요청시 웹 페이지 요청과 함께 쿠키도 전송 -> 

지속적으로 로그인 정보를 가지고 있는 것처럼 사용 가능



## 쿠키 단점

### 용량 제한

- 한 도메인당 20개
- 쿠키 하나당 KB 
- 총 300개



## 쿠키의 사용사례

방문한 웹페이지에서 "아이디와 비밀번호를 저장하시겠습니까" 라고 물어보는 것

팝업창에서 "오늘 이창을 다시 보지 않음" 을 체크

쇼핑몰에서 장바구니 같은 기능을 사용하는 경우 저장 형태 



## 쿠키와 차이점

- 쿠키 데이터를 사용하는 api가 존재
- 로컬스토리지는 로컬 환경에서만 컨트롤
- 쿠키는 기본적으로 만료일을 함께 설정

- 유효기간이 없고 영구적으로 이용 가능

- 5MB 까지 사용 가능 쿠키는 4KB

- 필요할 때 언제든 사용 가능 (쿠키는 서버 접속시에 자동 송신)

  



https://medium.com/@erwinousy/%EC%BF%A0%ED%82%A4-vs-%EB%A1%9C%EC%BB%AC%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%B0%A8%EC%9D%B4%EC%A0%90%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C-28b8db2ca7b2



## LocalStorage -더욱 영구적인 솔루션

HTML5가 나온 이후, cookies의 많은 사용 방법들은 LocalStorage의 사용으로 대체되었다.

LocalStorage는 cookies보다 더 많은 장점이 있기 때문입니다.



### LocalStorage 의 장점 ?

 가장 중요한 차이점 중 하나는 cookies와는 달리모든 HTTP 요청에서 데이터를 주고받을 필요가 없다는 것입니다. HTTP 요청에서 데이터를 주고받지 않고 LocalStorage를 이용하면 클라이언트와 서버간의 전체 트래픽과 낭비되는 대역폭의 양을 줄일 수 있습니다.

데이터가 유저의 로컬 디스크에 저장되어 있으면 인터넷이 끊어져도 데이터가 삭제되거나 지워지지 않기 때문입니다.



또한 앞에서 언급했듯이 LocalStorage는 최대 5MB의 정보를 저장할 수 있습니다. 

이것은 cookies가 보유할 수 있는 4KB보다 훨씬 더 많습니다.

LocalStorage의 만료 조건은 persistent cookies처럼 동작합니다. Javascript 코드를 통해 삭제하지 않으면 데이터는 자동으로 삭제되지 않습니다. 이 방식은더 오랜 시간동안 저장해야하는 큰 데이터에 유용합니다. 또한 LocalStorage를 사용하면 문자열 뿐만아니라 javascript의 primitives와 object도 저장할 수 있습니다.



1. HTTP 요청에서 데이터를 주고 받을 필요가 없다. 

2. 데이터를 주고 받지 않고 Localstroage 를 이용하면 클라이 언트와 서버간의 낭비되는 대역포의 양을 줄일 수 있다. 

   - 데이터가 유저의 로컬 디스크에 있으면 인터넷이 끊어져도 데이터가 삭제되거나 지워지지 않기 때문입니다.

3. 최대 5MB 의 정보를 저장 할 수 있다. 

4. LocalStorage의 만료 조건은 persistent cookies처럼 동작

   **Presistent cookies**(프리시스턴스)

   - 만료일을 가진다.
   - 만료일까지 유저의 디스크에 저장되고 만료일이 지나면 삭제
   - 이 방식은더 오랜 시간동안 저장해야하는 큰 데이터에 유용합니다



### 단점

- 사용자가 임의로 삭제하지 않는 경우 삭제되지 않는다.
  - 중요한 성격의 자료보다 단순한 보관 용도의 데이터 타입이 적절하다.

 ㅂ

웹 스토리지(web storage)에는 로컬 스토리지(localStorage)와 세션 스토리지(sessionStorage)가 있습니다. 이 두 개의 매커니즘의 차이점은 데이터가 어떤 범위 내에서 얼마나 오래 보존되느냐에 있습니다. 세션 스토리지는 웹페이지의 세션이 끝날 때 저장된 데이터가 지워지는 반면에, 로컬 스토리지는 웹페이지의 세션이 끝나더라도 데이터가 지워지지 않습니다.

다시 말해, 브라우저에서 같은 웹사이트를 여러 탭이나 창에 띄우면, 여러 개의 세션 스토리지에 데이터가 서로 격리되어 저장되며, 각 탭이나 창이 닫힐 때 저장해 둔 데이터도 함께 소멸합니다. 반면에, 로컬 스토리지의 경우 여러 탭이나 창 간에 데이터가 서로 공유되며 탭이나 창을 닫아도 데이터는 브라우저에 그대로 남아 있습니다



## 기본 구성

- 키(Key)와 값(Value)을 하나의 세트로 저장
- 도메인과 브라우저 별로 저장
- 값은 반드시 문자열로 저장됨



## 사용 방법



- ### 기본 샘플

![](C:\Users\user\Desktop\html.png)

- ### 데이터 추가

![](C:\Users\user\Desktop\JS.png)



 3가지 방법 모두 데이터가 저장되는 방식은 같다(키와 값으로 저장)



- ### 데이터 취득하기 

![](C:\Users\user\Desktop\JS@.png)



LocalStroge에 저장한 값을 취득하여 화면에 출력

키 값인 Test으로 값을 취득





- ### 데이터 삭제하기

삭제는 **removeItem(key)**를 사용



![](C:\Users\user\Desktop\JS 삭제.png)



- removeItem() 를 실행했기 때문에 해당 키와 값은 삭제된다.
- 삭제된 키로 데이터를 취득하고 있기에 취득한 값은 없다. 
- 화면 출력에는 undefined가 표시된다.



